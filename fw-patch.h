struct patch_entry
{
	int offset;
	unsigned char val;
};

struct patch_entry hal_patch_v312[] = {
	{0x000c, 0xac},
	{0x000d, 0xd9},
	{0x8007, 0xd9},
	{0x800c, 0x01},
	{0x8043, 0xd9},
	{0x8047, 0xd8},
	{0x804b, 0xd8},
	{0x804f, 0xd9},
	{0x8053, 0xd9},
	{0x8057, 0xd9},
	{0x805f, 0xd9},
	{0xc871, 0x36},
	{0xc872, 0x6e},
	{0xc873, 0x01},
	{0xc88d, 0x36},
	{0xc88e, 0x6e},
	{0xc88f, 0x01},
	{0xc8a8, 0x01},
	{0xc8a9, 0x8d},
	{0xc8aa, 0x6d},
	{0xc8ab, 0x01},
	{0xc8bc, 0xff},
	{0xc8bd, 0xff},
	{0xc8c5, 0xd8},
	{0xc8c6, 0xb8},
	{0xc8c7, 0x05},
	{0xc8e1, 0xf4},
	{0xc8e2, 0x06},
	{0xc8e3, 0x14},
	{0xc8fd, 0xe8},
	{0xc8fe, 0x0d},
	{0xc8ff, 0x28},
	{0xc919, 0x0e},
	{0xc91a, 0x27},
	{0xc91b, 0x07},
	{0xc935, 0x87},
	{0xc936, 0x93},
	{0xc937, 0x03},
	{0xc951, 0x1c},
	{0xc952, 0x4e},
	{0xc953, 0x0e},
	{0xc96d, 0x80},
	{0xc96e, 0xbb},
	{0xcb41, 0x36},
	{0xcb42, 0x6e},
	{0xcb43, 0x01},
	{0xcb44, 0x7f},
	{0xcb45, 0x33},
	{0xcb48, 0xc8},
	{0xcb49, 0x32},
	{0xcb4c, 0x60},
	{0xcb4d, 0xfe},
	{0xcb4e, 0xcd},
	{0xcb50, 0x60},
	{0xcb51, 0xfe},
	{0xcb52, 0xcd},
	{0xcb54, 0x7a},
	{0xcb55, 0x69},
	{0xcb58, 0x80},
	{0xcb59, 0x8d},
	{0xcb5a, 0x5b},
	{0xcb5c, 0xe0},
	{0xcb5d, 0x70},
	{0xcb5e, 0x72},
	{0xcb61, 0x36},
	{0xcb62, 0x6e},
	{0xcb63, 0x01},
	{0xcb64, 0x62},
	{0xcb65, 0xb3},
	{0xcb66, 0x19},
	{0xcb67, 0x01},
	{0xcb68, 0xe8},
	{0xcb69, 0x03},
	{0xcb6f, 0xd9},
	{0xcb73, 0xd8},
	{0xd8cc, 0x03},
	{0xd8d0, 0x04},
	{0xd8d4, 0x01},
	{0xd8d8, 0x01},
	{0xd8dc, 0x01},
	{0xd8e7, 0xd8},
	{0xd8ee, 0xe0},
	{0xd8ef, 0xfe},
	{0xd8f2, 0xe0},
	{0xd8f3, 0xfe},
	{0xd8f6, 0xe0},
	{0xd8f7, 0xfe},
	{0xd8fa, 0xe0},
	{0xd8fb, 0xfe},
	{0xd8fe, 0xe0},
	{0xd8ff, 0xfe},
	{0xd902, 0xe0},
	{0xd903, 0xfe},
	{0xd906, 0xe0},
	{0xd907, 0xfe},
	{0xd90a, 0xe0},
	{0xd90b, 0xfe},
	{0xd90e, 0xe0},
	{0xd90f, 0xfe},
	{0xd912, 0xe0},
	{0xd913, 0xfe},
	{0xd916, 0xe0},
	{0xd917, 0xfe},
	{0xd91a, 0xe0},
	{0xd91b, 0xfe},
	{0xd91e, 0xe0},
	{0xd91f, 0xfe},
	{0xd922, 0xe0},
	{0xd923, 0xfe},
	{0xd926, 0xe0},
	{0xd927, 0xfe},
	{0xd92a, 0xe0},
	{0xd92b, 0xfe},
	{0xd92e, 0xe0},
	{0xd92f, 0xfe},
	{0xd932, 0xe0},
	{0xd933, 0xfe},
	{0xd936, 0xe0},
	{0xd937, 0xfe},
	{0xd93a, 0xe0},
	{0xd93b, 0xfe},
	{0xd93e, 0xe0},
	{0xd93f, 0xfe},
	{0xd942, 0xe0},
	{0xd943, 0xfe},
	{0xd946, 0xe0},
	{0xd947, 0xfe},
	{0xd94a, 0xe0},
	{0xd94b, 0xfe},
	{0xd94e, 0xe0},
	{0xd94f, 0xfe},
	{0xd952, 0xe0},
	{0xd953, 0xfe},
	{0xd956, 0xe0},
	{0xd957, 0xfe},
	{0xd95a, 0xe0},
	{0xd95b, 0xfe},
	{0xd95e, 0xe0},
	{0xd95f, 0xfe},
	{0xd962, 0xe0},
	{0xd963, 0xfe},
};

struct patch_entry h3b_v300_hal_patch[] = {
	{0x000c, 0xd8},
	{0x000d, 0xbe},
	{0x8003, 0xf1},
	{0x8008, 0x01},
	{0x8043, 0xf1},
	{0x804f, 0xf1},
	{0x8057, 0xf1},
	{0xb22c, 0x8a},
	{0xb22d, 0xc5},
	{0xb22e, 0x9c},
	{0xb22f, 0x01},
	{0xb240, 0xff},
	{0xb241, 0xff},
	{0xb248, 0xc0},
	{0xb249, 0xfc},
	{0xb24a, 0x9b},
	{0xb24b, 0x01},
	{0xb265, 0xa2},
	{0xb266, 0x4a},
	{0xb267, 0x04},
	{0xb278, 0xff},
	{0xb279, 0xff},
	{0xb281, 0xe6},
	{0xb282, 0xdf},
	{0xb283, 0x0c},
	{0xb29d, 0xf4},
	{0xb29e, 0x06},
	{0xb29f, 0x14},
	{0xb2b9, 0xe8},
	{0xb2ba, 0x0d},
	{0xb2bb, 0x28},
	{0xb2d5, 0xe6},
	{0xb2d6, 0xdf},
	{0xb2d7, 0x0c},
	{0xb2f0, 0x80},
	{0xb2f1, 0xf9},
	{0xb2f2, 0x37},
	{0xb2f3, 0x03},
	{0xb30d, 0xe6},
	{0xb30e, 0xdf},
	{0xb30f, 0x0c},
	{0xb328, 0xff},
	{0xb329, 0x7f},
	{0xb32a, 0xbb},
	{0xb360, 0x80},
	{0xb361, 0xdf},
	{0xb362, 0x17},
	{0xb363, 0x10},
	{0xb589, 0x36},
	{0xb58a, 0x6e},
	{0xb58b, 0x01},
	{0xb58c, 0xc6},
	{0xb58d, 0x2d},
	{0xb590, 0xc8},
	{0xb591, 0x32},
	{0xb594, 0x80},
	{0xb595, 0xf9},
	{0xb596, 0x37},
	{0xb597, 0x03},
	{0xb598, 0x80},
	{0xb599, 0xf9},
	{0xb59a, 0x37},
	{0xb59b, 0x03},
	{0xb59c, 0x78},
	{0xb59d, 0x69},
	{0xb5a0, 0x80},
	{0xb5a1, 0x84},
	{0xb5a2, 0x1e},
	{0xb5a9, 0x6c},
	{0xb5aa, 0xdc},
	{0xb5ab, 0x02},
	{0xb5ac, 0x8b},
	{0xb5ad, 0xa0},
	{0xb5ae, 0x2b},
	{0xb5af, 0x01},
	{0xb5b0, 0xe8},
	{0xb5b1, 0x03},
	{0xb5bb, 0xf1},
	{0xb5bf, 0xf0},
	{0xbe00, 0x05},
	{0xbe04, 0x02},
	{0xbe08, 0x01},
	{0xbe0c, 0x01},
	{0xbe1b, 0xf0},
	{0xbe22, 0xe0},
	{0xbe23, 0xfe},
	{0xbe26, 0xe0},
	{0xbe27, 0xfe},
	{0xbe2a, 0xe0},
	{0xbe2b, 0xfe},
	{0xbe2e, 0xe0},
	{0xbe2f, 0xfe},
	{0xbe32, 0xe0},
	{0xbe33, 0xfe},
	{0xbe36, 0xe0},
	{0xbe37, 0xfe},
	{0xbe3a, 0xe0},
	{0xbe3b, 0xfe},
	{0xbe3e, 0xe0},
	{0xbe3f, 0xfe},
	{0xbe42, 0xe0},
	{0xbe43, 0xfe},
	{0xbe46, 0xe0},
	{0xbe47, 0xfe},
	{0xbe4a, 0xe0},
	{0xbe4b, 0xfe},
	{0xbe4e, 0xe0},
	{0xbe4f, 0xfe},
	{0xbe52, 0xe0},
	{0xbe53, 0xfe},
	{0xbe56, 0xe0},
	{0xbe57, 0xfe},
	{0xbe5a, 0xe0},
	{0xbe5b, 0xfe},
	{0xbe5e, 0xe0},
	{0xbe5f, 0xfe},
	{0xbe62, 0xe0},
	{0xbe63, 0xfe},
	{0xbe66, 0xe0},
	{0xbe67, 0xfe},
	{0xbe6a, 0xe0},
	{0xbe6b, 0xfe},
	{0xbe6e, 0xe0},
	{0xbe6f, 0xfe},
	{0xbe72, 0xe0},
	{0xbe73, 0xfe},
	{0xbe76, 0xe0},
	{0xbe77, 0xfe},
	{0xbe7a, 0xe0},
	{0xbe7b, 0xfe},
	{0xbe7e, 0xe0},
	{0xbe7f, 0xfe},
	{0xbe82, 0xe0},
	{0xbe83, 0xfe},
	{0xbe86, 0xe0},
	{0xbe87, 0xfe},
};

/*
 * Patch a mov r0, #0 instruction at the point where the RTOS checks its
 * power-on reason, because we are booting from USB the RTOS would otherwise
 * go into charging mode instead of booting normally.
 */
struct patch_entry h3b_v300_rtos_patch[] = {
	{0x19bd5c, 0x00},
	{0x19bd5d, 0x00},
	{0x19bd5e, 0xa0},
	{0x19bd5f, 0xe3},
};